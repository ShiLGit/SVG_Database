<!DOCTYPE html>
<html lang="en">
<head>
    <title>SVG Image Viewer</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="CHANGE ME">
    <meta name="keywords" content="CHANGE ME">
    <meta name="author" content="CHANGE ME">
    <!-- Load jquery, bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="/style.css">
    <!-- Custom CSS End -->
</head>
<body>
    <!--
<h3>Download test</h3>
    If the A3 stub is running and simple.gpx exists in the uploads/ directory on the server, then clicking on the link below will download it from the server.<br>
    <a href="rects.svg">rects.svg</a>
    <p></p>
    <img src="rects.svg">
    -->
    <h1>SVG Image Viewer</h1>
    <h3>This is a simple SVG database that allows you to create/view/edit SVG images.
        Instructions are as follows:<br/><br/>
        1. Host a MySQL database<br/> 
        2. Log in to access the database<br/> 
        3. You now have access to SVG Image Viewer's full functionality!
    </h3>




<!--DB LOGIN ACCORDION-->
<div class="accordion md-accordion" id="dblogin" role="tablist" aria-multiselectable="true">

    <!-- Accordion card -->
    <div class="card">
  
      <!-- Card header -->
      <div class="card-header" role="tab" id="heading-dblogin">
        <a id = "dblogin-link" class="collapsed" data-toggle="collapse" data-parent="#dblogin" href="#dblogin-body"
          aria-expanded="false" aria-controls="dblogin-body">
          <h5 class="mb-0">
            Database Login <i class="fas fa-angle-down rotate-icon"></i>
          </h5>
        </a>
      </div>
  
      <!-- Card body -->
<div id="dblogin-body" class="collapse" role="tabpanel" aria-labelledby="heading-dblogin"
        data-parent="#dblogin">
                <form id = dblogin-form>
                    <h3>Database Login</h3>
                    <label for = "dblogin-uname">Username</label>
                    <input id = "dblogin-uname" type = "text"  placeholder="Username" class = "form-control" required/>
            
                    <label for = "dblogin-pw">Password</label>
                    <input id = "dblogin-pw" type = "text"  placeholder="Password" class = "form-control" required/>
            
                    <label for = "dblogin-dbname">Database Name</label>
                    <input id = "dblogin-dbname" type = "text"  placeholder="Database Name" class = "form-control" required/>
            
            
                    <label for = "dblogin-hostname">Database Hostname</label>
                    <input id = "dblogin-hostname" type = "text"  placeholder="Hostname" class = "form-control" required/>
                    
                    <input id = "dblogin-btn" type = "submit" style = "margin:10px" class = "btn btn-primary mb-2" value = "Login"/>
                </form>    
                <div id = "dblogout" style = "display:none" disabled>
                    <h4>You are logged in.</h4>
                    <button class="btn btn-primary mb-2" id = "logout">Logout</button>
                </div>
    </div>
</div>
<!--END OF DB LOGIN ACCORDIN--> 



<!--FILE LOG ACCORDION-->
<div class="accordion md-accordion" id="filelog" role="tablist" aria-multiselectable="true">

    <!-- Accordion card -->
    <div class="card">
  
      <!-- Card header -->
    <div class="card-header" role="tab" id="heading-filelog">
        <a id = "filelog-link" class="collapsed" data-toggle="collapse" data-parent="#filelog" href="#filelog-body"
          aria-expanded="false" aria-controls="filelog-body">
          <h5   class="mb-0">
            File Log <i class="fas fa-angle-down rotate-icon"></i>
          </h5>
        </a>
    </div>
  
    <!-- Card body -->
    <div id="filelog-body" class="collapse" role="tabpanel" aria-labelledby="filelog-dblogin"
        data-parent="#filelog">
        <table id = "file-log">
            <tr>
                <th class = "title-th">Image</th>
                <th class = "title-th">File Name</th>
                <th class = "title-th">File Size</th>
                <th class = "title-th">Number Rects</th>
                <th class = "title-th">Number Circs</th>
                <th class = "title-th">Number Paths</th>
                <th class = "title-th">Number Groups</th>
            </tr>
        </table>
    </div>
</div>
<!--END OF FILELOG ACCORDIN--> 
   


<h3>DATABASE/SVG EDITING</h3>


<!--DB FUNCTIONS START-->
<div class="accordion md-accordion" id="dbfunctions" role="tablist" aria-multiselectable="true">

    <!-- Accordion card -->
    <div class="card">
  
      <!-- Card header -->
      <div class="card-header" role="tab" id="heading-dbfunctions">
        <a class="collapsed" data-toggle="collapse" data-parent="#dbfunctions" href="#dbfunctions-body"
          aria-expanded="false" aria-controls="dbfunctions-body">
          <h5 class="mb-0">
            Database functions <i class="fas fa-angle-down rotate-icon"></i>
          </h5>
        </a>
      </div>
  
      <!-- Card body -->
      <div id="dbfunctions-body" class="collapse" role="tabpanel" aria-labelledby="heading-dbfunctions"
        data-parent="#dbfunctions">
  

          <h4>Execute Query</h4>
          <form id ="execute-query">
          <label for = "qtype">Query Type</label>
          <select name = "qtype" id = "qtype">
            <option value ="allfiles">All Files</option>
            <option value ="creation-date">Creation Date</option>
            <option value ="modification-date">Modification Date</option>
            <option value ="shape-count">Shape Count</option>
            <option value ="most-downloaded">N Most Downloaded</option>
            <option value ="changes">Changes (Filtered)</option>
          </select>
          <div id = 'queryoptions'>

          </div>
          <input class = "btn btn-primary" type = 'submit' id = "execute-query-btn" value = 'Execute Query'/>

        </form>
          <h5 id = "table-title"></h5>
          <table id = "query-table">
          </table>

          <hr/>
          <h4>Database Functions</h4>
          <button id = "storefiles" class = "btn btn-primary btn-lg btn-block">Store all files</button>
          <button id = "cleardata" class = "btn btn-primary btn-lg btn-block">Clear all data</button>
          <button id = "dbstatus" class = "btn btn-primary btn-lg btn-block">Display database status</button>
      </div>
    </div>
  </div>
   <!--END OF DB FUNCTIONS--> 

<!--FILEEDITOR START-->
<div class="accordion md-accordion" id="fileeditor" role="tablist" aria-multiselectable="true">

    <!-- Accordion card -->
    <div class="card">
  
      <!-- Card header -->
      <div class="card-header" role="tab" id="heading-fileeditor">
        <a class="collapsed" data-toggle="collapse" data-parent="#fileeditor" href="#fileeditor-body"
          aria-expanded="false" aria-controls="fileeditor-body">
          <h5 class="mb-0">
            File Editor <i class="fas fa-angle-down rotate-icon"></i>
          </h5>
        </a>
      </div>
  
      <!-- Card body -->
      <div id="fileeditor-body" class="collapse" role="tabpanel" aria-labelledby="heading-fileeditor"
        data-parent="#fileeditor">
        
            <form id="uploadForm"
                enctype="multipart/form-data"
                action="/upload"
                method="post">
                <h5>Upload New</h5>
                <input type="file" name="uploadFile" required />
                <input type="submit" value="Upload SVG" name="submit">
            </form>
            <form id = 'create-form'>
                <h5>Create SVG</h5>
                <input id = "new-fname" type = "text" required/>
                <input type = "submit" value = "Create SVG"/>
            </form>

            <form id = "file-select-form">
                <label for="svg-name">Choose a file to view:</label>
                <select id="svg-name" name="svg" required = true>
                </select>
                <input type="submit">
            </form>
                

    <div class = "table-wrapper1">
        <img id = "file-view-img" src = "" alt = "image"/>

        <table id = "file-view">
        </table>
        <div id = "attrview-wrapper">
            <h3>Edit SVG</h3>
            <h5>View Attribute</h5>
            <label for="svg-ele">Choose an element to view:</label>
            <select id="svg-ele">
                <option value = 'placeholder'></option>
            </select>
            <div id ="attr-summary">
            </div>
            <form id = "attr-form" >
                <h5>Create/Update Attribute</h5>
                <label for="new-attr-key">Name:</label>
                <input id = "new-attr-key" required disabled/>
                <label for="new-attr-value">Value:</label>
                <input id = "new-attr-value" required disabled/>
                <input id = "new-attr-subm" type = "submit" disabled></input>
            </form>
            <form id = "td-form">
                <h5>Edit Title/Description</h5>
                <label for="new-title">Title:</label>
                <input id = "new-title" disabled/>
                
                <label for="new-desc">Description:</label>
                <input id = "new-desc" disabled/>
                <input id = "new-td-subm" type = "submit" disabled>
            </form>
            <form id = "shape-form">
                <h5>Add Shape</h5>
                <div class = "add-shape">
                    <input type="checkbox" id="Rect" value="true" disabled>
                    <label for="Rect">Add a Rectangle</label><br/>

                    <label for="x"> x: </label> 
                    <input type="text" id="x" required><br/>

                    <label for="y">y:</label> 
                    <input type="text" id="y" required><br/>

                    <label for="width"> width: </label>                     
                    <input type="text" id="width" required><br/>

                    <label for="height"> height: </label>                            
                    <input type="text" id="height" required><br/>
                    
                    <label for="units-r"> units: </label> 
                    <input type="text" id="units-r" value = ""><br/>
                </div>
                <div class = "add-shape">
                    <input type="checkbox" id="Circ" value="true" disabled>
                    <label for = "Circ">Add a Circle</label><br/>
                    <label for="cx"> cx: </label> 
                    <input type="text" id="cx" required><br/>

                    <label for="cy">cy:</label> 
                    <input type="text" id="cy" required><br/>

                    <label for="radius"> radius: </label>                     
                    <input type="text" id="radius" required><br/>
                    
                    <label for="units-c"> units: </label> 
                    <input type="text" id="units-c"><br/>
                </div>
                
                 <input id = "shape-subm" type = "submit" disabled/> 
            </form>
            <form id = "scale-rect-form">
                <label for = "scale-rect">Scale all rectangles: </label>
                <input id = "scale-rect" type = "text" required disabled/>
                <input type = "submit" id = "submscaler" disabled/>
            </form>
 
            <form id = "scale-circ-form">
                <label for = "scale-rect">Scale all circles: </label>
                <input id = "scale-circ" type = "text" required disabled/>
                <input type = "submit" id = "submscalec" disabled/>
            </form>
        </div>
 

      </div>
    </div>
</div>
<!--FILEEDITOR END-->
   
<!--Dynamic forms-->
<script id ="qf-shape-count" type = 'text/html'>
  <p>Number of Rectangles (Range)</p>
                 <label for = "n_rect-low">Min: </label>
                 <input id = "n_rect-low" placeholder = "No constraint" class ="queryfilter"/>
                 <label for = "n_rect-high">Max:</label>
                 <input id = "n_rect-high" placeholder = "No constraint" class ="queryfilter"/>
                 <br/>
                 <p>Number of Circles (Range)</p>
                 <label for = "n_circ-low">Min:</label>
                 <input id = "n_circ-low" placeholder = "No constraint" class ="queryfilter"/>
                 <label for = "n_circ-high">Max:</label>
                 <input id = "n_circ-high" placeholder = "No constraint" class ="queryfilter"/>
                 <br/>
                 <p>Number of Paths (Range)</p>
                 <label for = "n_path-low">Min:</label>
                 <input id = "n_path-low" placeholder = "No constraint" class ="queryfilter"/>
                 <label for = "n_path-high">Max:</label>
                 <input id = "n_path-high" placeholder = "No constraint" class ="queryfilter"/>
                 <br/>
                 <p>Number of Groups (Range)</p>
                 <label for = "n_group-low">Min:</label>
                 <input id = "n_group-low" placeholder = "No constraint" class ="queryfilter"/>
                 <label for = "n_group-high">Max:</label>
                 <input id = "n_group-high" placeholder = "No constraint" class ="queryfilter"/>
</script>

<script id = "qf-date" type = "text/html">
  <div class = "qf">
    <label for = "date-low">Starting from (inclusive): </label>
    <input id = "date-low" type = "date" required/>
    <br/>
    <label for = "date-high">Ending at (inclusive): </label>
    <input id = "date-high" type = "date" required/>
  </div>
  </script>

<script id = "qf-change" type = "text/html">
  <div class = "qf">
  <label for = "qf-filename">File name: </label>
  <input id ="qf-filename" type = "text" placeholder = "File name" required/>
  <br/>

  <label for = "qf-changetype">Change type: </label>
  <select id = "qf-changetype">
    <option value = "UPDATE ATTR">Update (General) Attribute</option>
    <option value = "EDIT TITLE/DESC">Update Title/Desc</option>
    <option value = "ADD SHAPE">Add shape</option>
    <option value = "SCALE RECT">Scale rectangle</option>
    <option value = "SCALE CIRC">Scale circle</option>
  </select>
  <br/>

  <label for = "qf-changesort">Sort by: </label>
  <select id = "qf-changesort">
    <option value = "newest">Newest</option>
    <option value = "oldest">Oldest</option>
  </select>
  </div>
</script>






<script src="/index.js"></script>


</body>
</html>







